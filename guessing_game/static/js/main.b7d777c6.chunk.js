(this.webpackJsonpguessing_game=this.webpackJsonpguessing_game||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n.n(c),o=n(21),s=n.n(o),a=(n(30),n(31),n(9)),i=n(25),u="https://guessing-game-agzuniverse.herokuapp.com",j=n(0),b=function(e){return Object(j.jsxs)("div",{className:"leaderboard_wrapper",children:[Object(j.jsx)("span",{children:" LEADERBOARD "}),Object(j.jsx)("br",{}),Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Username"}),Object(j.jsx)("th",{children:"Points"})]})}),Object(j.jsx)("tbody",{children:e.leaderboard.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.username}),Object(j.jsx)("td",{children:e.points})]},e.username)}))})]})]})},l=function(e){var t=e.question;return Object(j.jsx)("div",{className:"question_box",children:t.map((function(e){return e.is_image?Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:e.word}),Object(j.jsx)("p",{children:"_ ".repeat(e.length)})]}):Object(j.jsx)("span",{className:"non_image_question_part",children:e.word})}))})},d=function(e){var t=e.answer_attempts_log;return Object(j.jsx)("div",{className:"answer_log",children:Object(j.jsx)("div",{children:t.map((function(e){return"ans_attempt"===e.type?Object(j.jsxs)("p",{children:[e.username,": ",e.attempt]}):"correct_ans"===e.type?Object(j.jsxs)("p",{className:"green_text",children:[e.username," got it right!"]}):"correct_answer_to_round"===e.type?Object(j.jsxs)("p",{className:"cyan_text",children:["The correct answer is ",e.correct_answer,"!"]}):void 0}))})})},h=function(){var e,t=Object(c.useState)(""),n=Object(a.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)(""),h=Object(a.a)(s,2),O=h[0],f=h[1],p=Object(c.useState)(""),g=Object(a.a)(p,2),x=g[0],m=g[1],_=Object(c.useState)([]),y=Object(a.a)(_,2),v=y[0],w=y[1],S=Object(c.useState)(!1),N=Object(a.a)(S,2),C=N[0],T=N[1],k=Object(c.useState)(!1),E=Object(a.a)(k,2),J=E[0],P=E[1],q=Object(c.useState)(45),A=Object(a.a)(q,2),L=(A[0],A[1]),B=Object(c.useState)(0),D=Object(a.a)(B,2),F=D[0],I=D[1],M=Object(c.useState)([]),R=Object(a.a)(M,2),z=R[0],G=R[1],K=Object(c.useState)(""),U=Object(a.a)(K,2),W=U[0],Y=U[1],H=Object(c.useState)([]),Q=Object(a.a)(H,2),V=Q[0],X=Q[1],Z=function(t,n){var c=function(e,t){var n=i.a.connect("wss://guessing-game-agzuniverse.herokuapp.com/socket",{reconnectionDelayMax:1e4});return n.on("connect",(function(){n.emit("join",{username:e,lobby_code:t})})),n.on("error",(function(e){alert(e.error)})),n}(t,n);c.on("leaderboard_update",(function(e){console.log(e),w(e)})),c.on("new_question",(function(t){G(t),P(!0),L((function(e){return I(e),e})),clearInterval(e),e=setInterval((function(){I((function(e){return e-1}))}),1e3)})),c.on("answer_attempt",(function(e){e.type="ans_attempt",X((function(t){return t.concat(e)}))})),c.on("correct_answer",(function(e){e.type="correct_ans",X((function(t){return t.concat(e)}))})),c.on("correct_answer_to_round",(function(e){e.type="correct_answer_to_round",X((function(t){return t.concat(e)}))})),c.on("game_over",(function(t){clearInterval(e),P(!1),w((function(e){alert("".concat(e[0].username," is the winner!"));var t=JSON.parse(JSON.stringify(e));return t.forEach((function(e){return e.points=0})),t}))}))},$=function(){(function(e){return fetch("".concat(u,"/create_lobby"),{method:"POST",body:JSON.stringify({username:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))})(r).then((function(e){console.log(e),e.error?alert(e.error):(f(e.lobby_code),T(!0),Z(r,e.lobby_code))}))},ee=function(){(function(e,t){return fetch("".concat(u,"/join_lobby"),{method:"POST",body:JSON.stringify({username:e,lobby_code:t}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))})(r,x).then((function(e){console.log(e),e.error?alert(e.error):(f(x),Z(r,x))}))},te=function(){(function(e,t){return fetch("".concat(u,"/start_game"),{method:"POST",body:JSON.stringify({username:e,lobby_code:t}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))})(r,O).then((function(e){console.log(e),e.error?alert(e.error):(L(e.round_duration),I(e.round_duration),P(!0))}))},ne=function(e){"Enter"===e.key&&(function(e,t,n){return fetch("".concat(u,"/submit_answer"),{method:"POST",body:JSON.stringify({username:e,lobby_code:t,answer:n}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}(r,O,W).then((function(e){console.log(e),e.error&&alert(e.error)})),Y(""))};return O?Object(j.jsxs)("div",{children:["GAME LOBBY",Object(j.jsx)("br",{}),Object(j.jsxs)("strong",{children:[" Code to join lobby: ","".concat(O)]}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"top_bar",children:[Object(j.jsx)(b,{leaderboard:v}),Object(j.jsx)(d,{answer_attempts_log:V})]}),C&&!J?Object(j.jsx)("button",{onClick:function(){return te()},children:"Start Game"}):null,J?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(l,{question:z}),Object(j.jsx)("br",{}),"ANSWER:",Object(j.jsx)("input",{onChange:function(e){return Y(e.target.value)},value:W,onKeyDown:function(e){return ne(e)}}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:F})]})}):null]}):Object(j.jsxs)("div",{children:["Enter username:",Object(j.jsx)("input",{onChange:function(e){return o(e.target.value)}}),"and",Object(j.jsx)("button",{onClick:function(){return $()},children:" Create Lobby "}),Object(j.jsx)("br",{}),"OR",Object(j.jsx)("br",{}),"Enter lobby code:",Object(j.jsx)("input",{onChange:function(e){return m(e.target.value)}}),"and",Object(j.jsx)("button",{onClick:function(e){return ee()},children:" Join Lobby "})]})};var O=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(h,{}),Object(j.jsxs)("div",{className:"credits",children:[Object(j.jsx)("a",{href:"https://pixabay.com",children:Object(j.jsx)("img",{className:"credit_image",width:"100px",height:"100px",src:"https://pixabay.com/static/img/logo_square.png"})}),Object(j.jsx)("a",{href:"https://www.themoviedb.org/",children:Object(j.jsx)("img",{className:"credit_image",width:"100px",height:"100px",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg"})}),Object(j.jsx)("a",{target:"_blank",href:"https://agzuniverse.github.io/",children:Object(j.jsx)("span",{children:"Made by Aswin G"})})]})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),o(e),s(e)}))};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),f()}},[[38,1,2]]]);
//# sourceMappingURL=main.b7d777c6.chunk.js.map